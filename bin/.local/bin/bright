#!/usr/bin/env bash

#0 - custom
#1 - 1000K #2 - 1500K #3 - 2000K
#4 - 2500K #5 - 3000K #6 - 3500K
#7 - 4000K #8 - 4500K #9 - 5000K
#10- 5500K #11- 6000K #12- 6500K
temps=("1:0.54:0.42" \
       "1.00000000:0.18172716:0.00000001" \
       "1.00000000:0.42322816:0.00000001" \
       "1.00000000:0.54360078:0.08679949" \
       "1.00000000:0.64373109:0.28819679" \
       "1.00000000:0.71976951:0.42860152" \
       "1.00000000:0.77987699:0.54642268" \
       "1.00000000:0.82854786:0.64816570" \
       "1.00000000:0.86860704:0.73688797" \
       "1.00000000:0.90198230:0.81465502" \
       "1.00000000:0.93853986:0.88130458" \
       "1.00000000:0.97107439:0.94305985" \
       "1.00000000:1.00000000:1.00000000" \
      )

if [[ ! -z $2 ]]; then
    red=${temps[$2]}
else
    red=${temps[12]}
fi

if [[ -z $1 ]]; then
    echo brightness value missing
    exit 1
fi

for i in $(xrandr -q | grep ' connected' | grep -oP '^.*? ')
do
    xrandr --output $i \
        --brightness 0.$1 \
        --gamma $red

done

